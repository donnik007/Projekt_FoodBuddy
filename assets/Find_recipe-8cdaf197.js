import{_ as g,i as k,r as S,o as a,c as r,w as m,v as f,a as o,t as l,e as c,n as z,F as y,f as h,g as D,p as v,b as V}from"./index-72d2ae5b.js";import{g as x,a as I,c as C}from"./index.esm2017-66dc5ead.js";import{s as L}from"./vue-multiselect.esm-a2ba8487.js";const O={components:{Multiselect:L},data(){return{recipes:[],searchTerm:"",maxTime:120,selectedIngredients:[],ingredients:[],isDropdownOpen:!1,selectedType:null,selectedDifficulty:null,types:[],difficulties:[]}},methods:{openDropdown(){this.isDropdownOpen=!0},closeDropdown(){this.isDropdownOpen=!1}},computed:{customLabel(){return i=>`${i.name} `},filteredRecipes(){const i=this.searchTerm.toLowerCase();return this.recipes.filter(t=>Object.values(t).some(n=>n.toString().toLowerCase().includes(i))&&t.Time<=this.maxTime&&this.selectedIngredients.every(n=>t.Składniki.includes(n.name))&&(!this.selectedType||t.Typ===this.selectedType)&&(!this.selectedDifficulty||t.Poziom===this.selectedDifficulty))}},async created(){const t=k({apiKey:"AIzaSyDcvt3tNCGlU8YwSBsZQakfo9hiTpmpOuo",authDomain:"foodbuddy-3c448.firebaseapp.com",databaseURL:"https://foodbuddy-3c448.firebaseio.com",projectId:"foodbuddy-3c448",storageBucket:"foodbuddy-3c448.appspot.com",messagingSenderId:"864698295961",appId:"1:864698295961:web:beb2e5b10d1c88b7fd7a08",measurementId:"G-DMB55S2KMY"}),n=x(t),u=await I(C(n,"recipes"));this.recipes=u.docs.map(e=>e.data()),this.ingredients=[...new Set(this.recipes.flatMap(e=>e.Składniki))].map(e=>({name:e})),this.types=[...new Set(this.recipes.map(e=>e.Typ))],this.difficulties=[...new Set(this.recipes.map(e=>e.Poziom))]}},b=i=>(v("data-v-b5a054d4"),i=i(),V(),i),B=b(()=>o("h1",null,"Baza Przepisów",-1)),U={for:"time"},F={class:"recipes-container"},M=["src"],N={class:"no-bullets"},P=b(()=>o("br",null,null,-1));function A(i,t,n,u,e,d){const p=S("multiselect");return a(),r("div",null,[B,m(o("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.searchTerm=s),type:"text",placeholder:"Szukaj"},null,512),[[f,e.searchTerm]]),o("label",U,"Czas przygotowania (min): "+l(e.maxTime),1),m(o("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.maxTime=s),type:"range",id:"time",name:"time",min:"0",max:"200"},null,512),[[f,e.maxTime]]),c(p,{modelValue:e.selectedIngredients,"onUpdate:modelValue":t[2]||(t[2]=s=>e.selectedIngredients=s),options:e.ingredients,customLabel:d.customLabel,multiple:"","track-by":"name",placeholder:"Wybierz składniki",class:z(["multiselect",{"dropdown-open":e.isDropdownOpen}]),onOpen:d.openDropdown,onClose:d.closeDropdown},null,8,["modelValue","options","customLabel","class","onOpen","onClose"]),c(p,{modelValue:e.selectedType,"onUpdate:modelValue":t[3]||(t[3]=s=>e.selectedType=s),options:e.types,placeholder:"Wybierz typ",class:"multiselect"},null,8,["modelValue","options"]),c(p,{modelValue:e.selectedDifficulty,"onUpdate:modelValue":t[4]||(t[4]=s=>e.selectedDifficulty=s),options:e.difficulties,placeholder:"Wybierz poziom trudności",class:"multiselect"},null,8,["modelValue","options"]),o("div",F,[(a(!0),r(y,null,h(d.filteredRecipes,(s,_)=>(a(),r("div",{class:"recipe-card",key:_},[o("h2",null,l(s.Nazwa),1),o("img",{src:s.photo,alt:"Recipe photo"},null,8,M),o("p",null,[D("Składniki: "),o("ul",N,[(a(!0),r(y,null,h(s.Składniki,(w,T)=>(a(),r("li",{key:T},l(w),1))),128))])]),o("p",null,"Kroki: "+l(s.Kroki),1),o("p",null,"Czas przygotowania w minutach: "+l(s.Time?s.Time.toString():""),1),o("p",null,"Typ: "+l(s.Typ),1),o("p",null,"Poziom Trudności: "+l(s.Poziom),1),o("p",null,"Autor: "+l(s.Autor),1),P]))),128))])])}const W=g(O,[["render",A],["__scopeId","data-v-b5a054d4"]]);export{W as default};
